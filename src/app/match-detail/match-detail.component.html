<div class="match-detail-container" *ngIf="match">
  <button class="back-button" (click)="goBack()">‚Üê Back</button>
  
  <div class="match-header">
    <div class="match-date">{{ formatDate(match.date) }}</div>
    <div class="match-teams">
      <div class="team home-team" [class.winner]="isTeamWinner(match.homeTeam)">
        <div class="team-name">{{ match.homeTeam }}</div>
        <div class="team-score">{{ match.homeScore }}</div>
      </div>
      <div class="vs-label">VS</div>
      <div class="team away-team" [class.winner]="isTeamWinner(match.awayTeam)">
        <div class="team-score">{{ match.awayScore }}</div>
        <div class="team-name">{{ match.awayTeam }}</div>
      </div>
    </div>
  </div>
  
  <div class="match-content">
    <!-- Home Team Statistics -->
    <div class="team-stats">
      <h3>{{ match.homeTeam }} Stats</h3>
      
      <!-- Skaters -->
      <h4 *ngIf="homeTeamPlayers.length > 0">Skaters</h4>
      <table class="stats-table" *ngIf="homeTeamPlayers.length > 0">
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Pos</th>
            <th>G</th>
            <th>A</th>
            <th>P</th>
            <th>+/-</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let player of homeTeamPlayers">
            <td>{{ player.number }}</td>
            <td>{{ player.name }}</td>
            <td>{{ player.position }}</td>
            <td>{{ player.goals }}</td>
            <td>{{ player.assists }}</td>
            <td>{{ player.points }}</td>
            <td [class.positive]="player.plusMinus! > 0" [class.negative]="player.plusMinus! < 0">
              {{ player.plusMinus! > 0 ? '+' + player.plusMinus : player.plusMinus }}
            </td>
          </tr>
        </tbody>
      </table>
      
      <!-- Goalies -->
      <h4 *ngIf="homeTeamGoalies.length > 0">Goalies</h4>
      <table class="stats-table" *ngIf="homeTeamGoalies.length > 0">
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>SA</th>
            <th>SV</th>
            <th>SV%</th>
            <th>GA</th>
            <th>SO</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let goalie of homeTeamGoalies">
            <td>{{ goalie.number }}</td>
            <td>{{ goalie.name }}</td>
            <td>{{ goalie.shotsAgainst }}</td>
            <td>{{ goalie.saves }}</td>
            <td>{{ goalie.savePercentage | number:'1.3-3' }}</td>
            <td>{{ goalie.goalsAgainst }}</td>
            <td>{{ goalie.shutout }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <!-- Away Team Statistics -->
    <div class="team-stats">
      <h3>{{ match.awayTeam }} Stats</h3>
      
      <!-- Skaters -->
      <h4 *ngIf="awayTeamPlayers.length > 0">Skaters</h4>
      <table class="stats-table" *ngIf="awayTeamPlayers.length > 0">
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Pos</th>
            <th>G</th>
            <th>A</th>
            <th>P</th>
            <th>+/-</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let player of awayTeamPlayers">
            <td>{{ player.number }}</td>
            <td>{{ player.name }}</td>
            <td>{{ player.position }}</td>
            <td>{{ player.goals }}</td>
            <td>{{ player.assists }}</td>
            <td>{{ player.points }}</td>
            <td [class.positive]="player.plusMinus! > 0" [class.negative]="player.plusMinus! < 0">
              {{ player.plusMinus! > 0 ? '+' + player.plusMinus : player.plusMinus }}
            </td>
          </tr>
        </tbody>
      </table>
      
      <!-- Goalies -->
      <h4 *ngIf="awayTeamGoalies.length > 0">Goalies</h4>
      <table class="stats-table" *ngIf="awayTeamGoalies.length > 0">
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>SA</th>
            <th>SV</th>
            <th>SV%</th>
            <th>GA</th>
            <th>SO</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let goalie of awayTeamGoalies">
            <td>{{ goalie.number }}</td>
            <td>{{ goalie.name }}</td>
            <td>{{ goalie.shotsAgainst }}</td>
            <td>{{ goalie.saves }}</td>
            <td>{{ goalie.savePercentage | number:'1.3-3' }}</td>
            <td>{{ goalie.goalsAgainst }}</td>
            <td>{{ goalie.shutout }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="loading" *ngIf="!match">
  Loading match details...
</div> 