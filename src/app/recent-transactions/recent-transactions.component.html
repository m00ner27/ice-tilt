<section class="recent-transactions-section mt-4">
  <div class="container">
    <div class="transactions-container">
      <div class="transactions-header">
        <h3>Recent Transactions</h3>
        <div class="header-controls" *ngIf="!isPreview">
          <select 
            [(ngModel)]="selectedSeason" 
            (change)="onSeasonChange()" 
            class="season-filter"
          >
            <option value="All">All Seasons</option>
            <option *ngFor="let season of seasons" [value]="season.name">
              {{ season.name }}
            </option>
          </select>
          <select 
            [(ngModel)]="selectedClub" 
            (change)="onClubChange()" 
            class="club-filter"
          >
            <option value="All">All Clubs</option>
            <option *ngFor="let club of filteredClubs" [value]="club.name">
              {{ club.name }}
            </option>
          </select>
        </div>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading" class="loading-state">
        <p>Loading transactions...</p>
      </div>

      <!-- Error State -->
      <div *ngIf="error" class="error-state">
        <p>{{ error }}</p>
      </div>

      <!-- Transactions Table -->
      <div *ngIf="!loading && !error" class="transactions-table">
        <div class="table-header">
          <div class="club-column">Club</div>
          <div class="transaction-column">Transaction</div>
          <div class="date-column">Date</div>
        </div>

        <div class="table-body">
          <div *ngFor="let transaction of transactions" class="table-row">
            <div class="club-column">
              <img *ngIf="transaction.clubLogoUrl" [src]="getImageUrl(transaction.clubLogoUrl)" [alt]="transaction.clubName" class="club-logo">
              <span class="club-name">{{ transaction.clubName }}</span>
            </div>
            <div class="transaction-column">
              <span class="transaction-text">
                {{ transaction.clubName }} {{ transaction.transactionType === 'sign' ? 'sign' : 'release' }} {{ transaction.playerName }} for {{ transaction.seasonName }}
              </span>
            </div>
            <div class="date-column">
              {{ formatDate(transaction.date.toString()) }}
            </div>
          </div>
        </div>

        <!-- No Transactions -->
        <div *ngIf="transactions.length === 0" class="no-transactions">
          <p>No transactions found for the selected filters</p>
        </div>
      </div>
    </div>
  </div>
</section>
  