<div class="p-5 text-white">
  <h2 class="text-white mb-5 text-center text-4xl font-bold text-shadow-lg">Players</h2>
  
  <!-- Filters Section -->
  <div class="mb-5 space-y-4">
    <!-- Search bar -->
    <div class="flex justify-center">
      <input 
        type="text" 
        class="w-full max-w-md px-4 py-3 rounded-full text-base outline-none transition-all duration-200 bg-admin-card text-white focus:border-admin-primary focus:shadow-lg focus:shadow-admin-primary/25" 
        placeholder="Search by gamertag or username..."
        [(ngModel)]="searchText"
        (input)="filterPlayers()"
      >
    </div>

    <!-- Filter buttons -->
    <div class="flex flex-wrap justify-center gap-3">
      <!-- Position Filter -->
      <div class="flex items-center gap-2">
        <label class="text-gray-300 text-sm font-medium">Position:</label>
        <select 
          [(ngModel)]="positionFilter"
          (change)="onPositionFilterChange(positionFilter)"
          class="px-3 py-2 rounded-lg bg-admin-card text-white border border-admin-accent focus:outline-none focus:border-admin-primary"
        >
          <option *ngFor="let pos of positions" [value]="pos">{{ pos }}</option>
        </select>
      </div>

      <!-- Platform Filter -->
      <div class="flex items-center gap-2">
        <label class="text-gray-300 text-sm font-medium">Platform:</label>
        <select 
          [(ngModel)]="platformFilter"
          (change)="onPlatformFilterChange(platformFilter)"
          class="px-3 py-2 rounded-lg bg-admin-card text-white border border-admin-accent focus:outline-none focus:border-admin-primary"
        >
          <option *ngFor="let platform of platforms" [value]="platform">{{ platform }}</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Loading state -->
  <div *ngIf="loading$ | async" class="text-center text-white py-10 text-xl">
    <div class="w-12 h-12 border-4 border-slate-700 border-t-blue-500 rounded-full mx-auto mb-4 animate-spin"></div>
    Loading players...
  </div>

  <!-- Error state -->
  <div *ngIf="error$ | async" class="text-center text-red-500 py-5 text-lg bg-red-500/10 border border-red-500 rounded-lg my-5">
    {{ error$ | async }}
  </div>

  <!-- Players list -->
  <div *ngIf="!(loading$ | async) && !(error$ | async)" class="max-w-6xl mx-auto">
    <!-- Players table -->
    <div class="bg-admin-card rounded-lg overflow-hidden shadow-lg">
      <table class="w-full">
        <thead class="bg-admin-hover">
          <tr>
            <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Player</th>
            <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Platform</th>
            <th class="px-6 py-4 text-center text-sm font-semibold text-gray-300">View Stats</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-admin-accent">
          <tr 
            *ngFor="let player of filteredPlayers" 
            class="hover:bg-admin-hover transition-colors duration-150"
          >
            <td class="px-6 py-4">
              <div class="flex flex-col">
                <span class="text-white font-medium">{{ player.gamertag }}</span>
                <span *ngIf="player.discordUsername" class="text-gray-400 text-sm">{{ player.discordUsername }}</span>
              </div>
            </td>
            <td class="px-6 py-4 text-gray-300">
              {{ getPlatformDisplay(player.platform) }}
            </td>
            <td class="px-6 py-4 text-center">
              <a 
                [routerLink]="getPlayerRoute(player)"
                class="inline-block px-4 py-2 bg-admin-primary text-white rounded-lg hover:bg-admin-accent transition-colors duration-200 text-sm font-medium"
              >
                View Profile
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- No results message -->
    <div *ngIf="filteredPlayers.length === 0" class="text-center text-white py-10 text-lg bg-admin-card rounded-lg mt-5">
      No players found matching your criteria
    </div>

    <!-- Results count -->
    <div *ngIf="filteredPlayers.length > 0" class="text-center text-gray-400 text-sm mt-4">
      Showing {{ filteredPlayers.length }} player{{ filteredPlayers.length !== 1 ? 's' : '' }}
    </div>
  </div>
</div>

